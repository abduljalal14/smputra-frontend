{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineStore } from 'pinia';\nexport const useCart = defineStore({\n  id: 'cart',\n  state: () => ({\n    cartItems: [] // Menambahkan total sebagai kunci ketiga\n  }),\n\n  actions: {\n    addToCart(product) {\n      const existingItem = this.cartItems.find(item => item.product.id === product.id);\n      if (existingItem) {\n        existingItem.qty++;\n        existingItem.total = existingItem.qty * existingItem.product.price; // Menghitung total\n        if (existingItem.qty === 0) {\n          this.deleteCartItem(existingItem.product);\n        }\n      } else {\n        this.cartItems.push({\n          product,\n          qty: 1,\n          total: product.price\n        }); // Menambahkan total pada penambahan baru\n      }\n\n      console.log(\"Adding\", product, \" to \", this.cartItems);\n    },\n    deleteCartItem(product) {\n      const isConfirm = window.confirm('Apakah Anda yakin ingin menghapus item?');\n      if (isConfirm) {\n        const index = this.cartItems.findIndex(item => item.product.id === product.id);\n        if (index !== -1) {\n          this.cartItems.splice(index, 1); // Menghapus item dari cartItems berdasarkan indeks\n        }\n\n        console.log(\"Deleting\", product, \" from \", this.cartItems);\n      }\n    },\n    increaseQty(item) {\n      item.qty++;\n      item.total = item.qty * item.product.price;\n    },\n    decreaseQty(item) {\n      if (item.qty > 1) {\n        item.qty--;\n        item.total = item.qty * item.product.price;\n      } else {\n        // Jika qty adalah 1, hapus cartItem dari keranjang\n        this.deleteCartItem(item.product);\n      }\n    },\n    updateQty(item) {\n      if (item.qty > 1) {\n        item.total = item.qty * item.product.price;\n      } else {\n        // Jika qty adalah 1, hapus cartItem dari keranjang\n        this.deleteCartItem(item.product);\n      }\n    }\n  }\n});","map":{"version":3,"names":["defineStore","useCart","id","state","cartItems","actions","addToCart","product","existingItem","find","item","qty","total","price","deleteCartItem","push","console","log","isConfirm","window","confirm","index","findIndex","splice","increaseQty","decreaseQty","updateQty"],"sources":["E:/Programming/PROJECT/sm-putra/smputra-frontend/src/store/cart.js"],"sourcesContent":["import { defineStore } from 'pinia';\r\n\r\nexport const useCart = defineStore({\r\n  id: 'cart',\r\n  state: () => ({ \r\n    cartItems: [], // Menambahkan total sebagai kunci ketiga\r\n  }),\r\n  actions: {\r\n    addToCart(product) {\r\n      const existingItem = this.cartItems.find(item => item.product.id === product.id);\r\n\r\n      if (existingItem) {\r\n        existingItem.qty++;\r\n        existingItem.total = existingItem.qty * existingItem.product.price; // Menghitung total\r\n        if (existingItem.qty === 0) {\r\n            this.deleteCartItem(existingItem.product);\r\n        }\r\n      } else {\r\n        this.cartItems.push({ product, qty: 1, total: product.price }); // Menambahkan total pada penambahan baru\r\n      }\r\n\r\n      console.log(\"Adding\", product, \" to \", this.cartItems);\r\n    },\r\n\r\n    deleteCartItem(product) {\r\n      const isConfirm =  window.confirm('Apakah Anda yakin ingin menghapus item?') \r\n      if (isConfirm) {\r\n        const index = this.cartItems.findIndex(item => item.product.id === product.id);\r\n\r\n      if (index !== -1) {\r\n        this.cartItems.splice(index, 1); // Menghapus item dari cartItems berdasarkan indeks\r\n      }\r\n\r\n      console.log(\"Deleting\", product, \" from \", this.cartItems);\r\n      }\r\n    },\r\n    increaseQty(item) {\r\n        item.qty++;\r\n        item.total = item.qty * item.product.price;\r\n      },\r\n  \r\n    decreaseQty(item) {\r\n        if (item.qty > 1) {\r\n          item.qty--;\r\n          item.total = item.qty * item.product.price;\r\n        } else {\r\n          // Jika qty adalah 1, hapus cartItem dari keranjang\r\n          this.deleteCartItem(item.product);\r\n        }\r\n      },\r\n    updateQty(item) {\r\n        if (item.qty > 1) {\r\n            item.total = item.qty * item.product.price;\r\n          } else {\r\n            // Jika qty adalah 1, hapus cartItem dari keranjang\r\n            this.deleteCartItem(item.product);\r\n          }\r\n    }\r\n  },\r\n});\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAO,MAAMC,OAAO,GAAGD,WAAW,CAAC;EACjCE,EAAE,EAAE,MAAM;EACVC,KAAK,EAAEA,CAAA,MAAO;IACZC,SAAS,EAAE,EAAE,CAAE;EACjB,CAAC,CAAC;;EACFC,OAAO,EAAE;IACPC,SAASA,CAACC,OAAO,EAAE;MACjB,MAAMC,YAAY,GAAG,IAAI,CAACJ,SAAS,CAACK,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACH,OAAO,CAACL,EAAE,KAAKK,OAAO,CAACL,EAAE,CAAC;MAEhF,IAAIM,YAAY,EAAE;QAChBA,YAAY,CAACG,GAAG,EAAE;QAClBH,YAAY,CAACI,KAAK,GAAGJ,YAAY,CAACG,GAAG,GAAGH,YAAY,CAACD,OAAO,CAACM,KAAK,CAAC,CAAC;QACpE,IAAIL,YAAY,CAACG,GAAG,KAAK,CAAC,EAAE;UACxB,IAAI,CAACG,cAAc,CAACN,YAAY,CAACD,OAAO,CAAC;QAC7C;MACF,CAAC,MAAM;QACL,IAAI,CAACH,SAAS,CAACW,IAAI,CAAC;UAAER,OAAO;UAAEI,GAAG,EAAE,CAAC;UAAEC,KAAK,EAAEL,OAAO,CAACM;QAAM,CAAC,CAAC,CAAC,CAAC;MAClE;;MAEAG,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEV,OAAO,EAAE,MAAM,EAAE,IAAI,CAACH,SAAS,CAAC;IACxD,CAAC;IAEDU,cAAcA,CAACP,OAAO,EAAE;MACtB,MAAMW,SAAS,GAAIC,MAAM,CAACC,OAAO,CAAC,yCAAyC,CAAC;MAC5E,IAAIF,SAAS,EAAE;QACb,MAAMG,KAAK,GAAG,IAAI,CAACjB,SAAS,CAACkB,SAAS,CAACZ,IAAI,IAAIA,IAAI,CAACH,OAAO,CAACL,EAAE,KAAKK,OAAO,CAACL,EAAE,CAAC;QAEhF,IAAImB,KAAK,KAAK,CAAC,CAAC,EAAE;UAChB,IAAI,CAACjB,SAAS,CAACmB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;QACnC;;QAEAL,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEV,OAAO,EAAE,QAAQ,EAAE,IAAI,CAACH,SAAS,CAAC;MAC1D;IACF,CAAC;IACDoB,WAAWA,CAACd,IAAI,EAAE;MACdA,IAAI,CAACC,GAAG,EAAE;MACVD,IAAI,CAACE,KAAK,GAAGF,IAAI,CAACC,GAAG,GAAGD,IAAI,CAACH,OAAO,CAACM,KAAK;IAC5C,CAAC;IAEHY,WAAWA,CAACf,IAAI,EAAE;MACd,IAAIA,IAAI,CAACC,GAAG,GAAG,CAAC,EAAE;QAChBD,IAAI,CAACC,GAAG,EAAE;QACVD,IAAI,CAACE,KAAK,GAAGF,IAAI,CAACC,GAAG,GAAGD,IAAI,CAACH,OAAO,CAACM,KAAK;MAC5C,CAAC,MAAM;QACL;QACA,IAAI,CAACC,cAAc,CAACJ,IAAI,CAACH,OAAO,CAAC;MACnC;IACF,CAAC;IACHmB,SAASA,CAAChB,IAAI,EAAE;MACZ,IAAIA,IAAI,CAACC,GAAG,GAAG,CAAC,EAAE;QACdD,IAAI,CAACE,KAAK,GAAGF,IAAI,CAACC,GAAG,GAAGD,IAAI,CAACH,OAAO,CAACM,KAAK;MAC5C,CAAC,MAAM;QACL;QACA,IAAI,CAACC,cAAc,CAACJ,IAAI,CAACH,OAAO,CAAC;MACnC;IACN;EACF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}