{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { onMounted } from 'vue';\nimport { useAuth } from \"@/store/auth\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  __name: 'IndexView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const userStore = useAuth();\n    const router = useRouter();\n\n    // Fetch user data when the component is mounted\n    onMounted(async () => {\n      try {\n        if (!userStore.loggedIn) {\n          router.push({\n            name: 'login'\n          });\n        }\n        await userStore.fetchDataUser();\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    });\n    const logoutUser = async () => {\n      try {\n        await userStore.logout();\n        router.push({\n          name: 'login'\n        });\n      } catch (error) {\n        console.error('Error during logout:', error);\n      }\n    };\n    const __returned__ = {\n      userStore,\n      router,\n      logoutUser,\n      onMounted,\n      get useAuth() {\n        return useAuth;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","useAuth","useRouter","userStore","router","loggedIn","push","name","fetchDataUser","error","console","logoutUser","logout"],"sources":["E:/Programming/PROJECT/sm-putra/smputra-frontend/src/views/dashboard/IndexView.vue"],"sourcesContent":["<template>\r\n    <div class=\"dashboard\" style=\"margin-top: 80px\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-4\">\r\n            <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                MAIN MENU\r\n                <hr />\r\n                <ul class=\"list-group\">\r\n                  <router-link :to=\"{ name: 'profile' }\" class=\"list-group-item text-dark text-decoration-none\">PROFILE</router-link>\r\n                  <router-link :to=\"{ name: 'products' }\" class=\"list-group-item text-dark text-decoration-none\">PRODUCT LIST</router-link>\r\n                  <li @click=\"logoutUser\" class=\"list-group-item text-dark text-decoration-none\" style=\"cursor: pointer\">LOGOUT</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-8\">\r\n            <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                <router-view />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { onMounted } from 'vue';\r\n  import { useAuth } from \"@/store/auth\";\r\n  import { useRouter } from \"vue-router\";\r\n  \r\n  const userStore = useAuth();\r\n  const router = useRouter();\r\n  \r\n  // Fetch user data when the component is mounted\r\n  onMounted(async () => {\r\n    try {\r\n        if (!userStore.loggedIn) {\r\n        router.push({ name: 'login' });\r\n      }\r\n      await userStore.fetchDataUser();\r\n    } catch (error) {\r\n      console.error('Error fetching user data:', error);\r\n    }\r\n  });\r\n  \r\n  const logoutUser = async () => {\r\n    try {\r\n      await userStore.logout();\r\n      router.push({ name: 'login' });\r\n    } catch (error) {\r\n      console.error('Error during logout:', error);\r\n    }\r\n  };\r\n  </script>"],"mappings":";AA8BE,SAASA,SAAS,QAAQ,KAAK;AAC/B,SAASC,OAAO,QAAQ,cAAc;AACtC,SAASC,SAAS,QAAQ,YAAY;;;;;;;IAEtC,MAAMC,SAAS,GAAGF,OAAO,CAAC,CAAC;IAC3B,MAAMG,MAAM,GAAGF,SAAS,CAAC,CAAC;;IAE1B;IACAF,SAAS,CAAC,YAAY;MACpB,IAAI;QACA,IAAI,CAACG,SAAS,CAACE,QAAQ,EAAE;UACzBD,MAAM,CAACE,IAAI,CAAC;YAAEC,IAAI,EAAE;UAAQ,CAAC,CAAC;QAChC;QACA,MAAMJ,SAAS,CAACK,aAAa,CAAC,CAAC;MACjC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF,CAAC,CAAC;IAEF,MAAME,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF,MAAMR,SAAS,CAACS,MAAM,CAAC,CAAC;QACxBR,MAAM,CAACE,IAAI,CAAC;UAAEC,IAAI,EAAE;QAAQ,CAAC,CAAC;MAChC,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;IACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}