{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineStore } from 'pinia';\nexport const useCart = defineStore({\n  id: 'cart',\n  state: () => ({\n    cartItems: [] // key: product, qty\n  }),\n\n  actions: {\n    addToCart(productId) {\n      const existingItem = this.cartItems.find(item => item.productId === productId);\n      if (existingItem) {\n        existingItem.qty++;\n        if (existingItem.qty === 0) {\n          this.deleteCartItem(existingItem.product);\n        }\n      } else {\n        this.cartItems.push({\n          productId,\n          qty: 1\n        });\n      }\n    },\n    deleteCartItem(product) {\n      const isConfirm = window.confirm('Apakah Anda yakin ingin menghapus item?');\n      if (isConfirm) {\n        const index = this.cartItems.findIndex(item => item.product.id === product.id);\n        if (index !== -1) {\n          this.cartItems.splice(index, 1); // Menghapus item dari cartItems berdasarkan indeks\n        }\n\n        console.log(\"Deleting\", product, \" from \", this.cartItems);\n      }\n    },\n    increaseQty(item) {\n      item.qty++;\n      item.total = item.qty * item.product.price;\n    },\n    decreaseQty(item) {\n      if (item.qty > 1) {\n        item.qty--;\n        item.total = item.qty * item.product.price;\n      } else {\n        // Jika qty adalah 1, hapus cartItem dari keranjang\n        this.deleteCartItem(item.product);\n      }\n    },\n    updateQty(item) {\n      if (item.qty > 1) {\n        item.total = item.qty * item.product.price;\n      } else {\n        // Jika qty adalah 1, hapus cartItem dari keranjang\n        this.deleteCartItem(item.product);\n      }\n    }\n  }\n});","map":{"version":3,"names":["defineStore","useCart","id","state","cartItems","actions","addToCart","productId","existingItem","find","item","qty","deleteCartItem","product","push","isConfirm","window","confirm","index","findIndex","splice","console","log","increaseQty","total","price","decreaseQty","updateQty"],"sources":["F:/Programming/_PROJECT/sm-putra/smputra-frontend/src/store/cart.js"],"sourcesContent":["import { defineStore } from 'pinia';\r\n\r\nexport const useCart = defineStore({\r\n  id: 'cart',\r\n  state: () => ({ \r\n    cartItems: [], // key: product, qty\r\n  }),\r\n  actions: {\r\n    addToCart(productId) {\r\n      const existingItem = this.cartItems.find(item => item.productId === productId);\r\n\r\n      if (existingItem) {\r\n        existingItem.qty++;\r\n        if (existingItem.qty === 0) {\r\n            this.deleteCartItem(existingItem.product);\r\n        }\r\n      } else {\r\n        this.cartItems.push({ productId, qty: 1}); \r\n      }\r\n    },\r\n\r\n    deleteCartItem(product) {\r\n      const isConfirm =  window.confirm('Apakah Anda yakin ingin menghapus item?') \r\n      if (isConfirm) {\r\n        const index = this.cartItems.findIndex(item => item.product.id === product.id);\r\n\r\n      if (index !== -1) {\r\n        this.cartItems.splice(index, 1); // Menghapus item dari cartItems berdasarkan indeks\r\n      }\r\n\r\n      console.log(\"Deleting\", product, \" from \", this.cartItems);\r\n      }\r\n    },\r\n    increaseQty(item) {\r\n        item.qty++;\r\n        item.total = item.qty * item.product.price;\r\n      },\r\n  \r\n    decreaseQty(item) {\r\n        if (item.qty > 1) {\r\n          item.qty--;\r\n          item.total = item.qty * item.product.price;\r\n        } else {\r\n          // Jika qty adalah 1, hapus cartItem dari keranjang\r\n          this.deleteCartItem(item.product);\r\n        }\r\n      },\r\n    updateQty(item) {\r\n        if (item.qty > 1) {\r\n            item.total = item.qty * item.product.price;\r\n          } else {\r\n            // Jika qty adalah 1, hapus cartItem dari keranjang\r\n            this.deleteCartItem(item.product);\r\n          }\r\n    }\r\n  },\r\n});\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAO,MAAMC,OAAO,GAAGD,WAAW,CAAC;EACjCE,EAAE,EAAE,MAAM;EACVC,KAAK,EAAEA,CAAA,MAAO;IACZC,SAAS,EAAE,EAAE,CAAE;EACjB,CAAC,CAAC;;EACFC,OAAO,EAAE;IACPC,SAASA,CAACC,SAAS,EAAE;MACnB,MAAMC,YAAY,GAAG,IAAI,CAACJ,SAAS,CAACK,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACH,SAAS,KAAKA,SAAS,CAAC;MAE9E,IAAIC,YAAY,EAAE;QAChBA,YAAY,CAACG,GAAG,EAAE;QAClB,IAAIH,YAAY,CAACG,GAAG,KAAK,CAAC,EAAE;UACxB,IAAI,CAACC,cAAc,CAACJ,YAAY,CAACK,OAAO,CAAC;QAC7C;MACF,CAAC,MAAM;QACL,IAAI,CAACT,SAAS,CAACU,IAAI,CAAC;UAAEP,SAAS;UAAEI,GAAG,EAAE;QAAC,CAAC,CAAC;MAC3C;IACF,CAAC;IAEDC,cAAcA,CAACC,OAAO,EAAE;MACtB,MAAME,SAAS,GAAIC,MAAM,CAACC,OAAO,CAAC,yCAAyC,CAAC;MAC5E,IAAIF,SAAS,EAAE;QACb,MAAMG,KAAK,GAAG,IAAI,CAACd,SAAS,CAACe,SAAS,CAACT,IAAI,IAAIA,IAAI,CAACG,OAAO,CAACX,EAAE,KAAKW,OAAO,CAACX,EAAE,CAAC;QAEhF,IAAIgB,KAAK,KAAK,CAAC,CAAC,EAAE;UAChB,IAAI,CAACd,SAAS,CAACgB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;QACnC;;QAEAG,OAAO,CAACC,GAAG,CAAC,UAAU,EAAET,OAAO,EAAE,QAAQ,EAAE,IAAI,CAACT,SAAS,CAAC;MAC1D;IACF,CAAC;IACDmB,WAAWA,CAACb,IAAI,EAAE;MACdA,IAAI,CAACC,GAAG,EAAE;MACVD,IAAI,CAACc,KAAK,GAAGd,IAAI,CAACC,GAAG,GAAGD,IAAI,CAACG,OAAO,CAACY,KAAK;IAC5C,CAAC;IAEHC,WAAWA,CAAChB,IAAI,EAAE;MACd,IAAIA,IAAI,CAACC,GAAG,GAAG,CAAC,EAAE;QAChBD,IAAI,CAACC,GAAG,EAAE;QACVD,IAAI,CAACc,KAAK,GAAGd,IAAI,CAACC,GAAG,GAAGD,IAAI,CAACG,OAAO,CAACY,KAAK;MAC5C,CAAC,MAAM;QACL;QACA,IAAI,CAACb,cAAc,CAACF,IAAI,CAACG,OAAO,CAAC;MACnC;IACF,CAAC;IACHc,SAASA,CAACjB,IAAI,EAAE;MACZ,IAAIA,IAAI,CAACC,GAAG,GAAG,CAAC,EAAE;QACdD,IAAI,CAACc,KAAK,GAAGd,IAAI,CAACC,GAAG,GAAGD,IAAI,CAACG,OAAO,CAACY,KAAK;MAC5C,CAAC,MAAM;QACL;QACA,IAAI,CAACb,cAAc,CAACF,IAAI,CAACG,OAAO,CAAC;MACnC;IACN;EACF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}