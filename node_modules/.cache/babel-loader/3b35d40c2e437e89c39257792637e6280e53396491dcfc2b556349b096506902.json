{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineStore } from 'pinia';\nexport const useCart = defineStore({\n  id: 'cart',\n  state: () => ({\n    cartItems: [] // key: product_id, qty\n  }),\n\n  actions: {\n    addToCart(product_id) {\n      const existingItem = this.cartItems.find(item => item.product_id === product_id);\n      if (existingItem) {\n        existingItem.qty++;\n        if (existingItem.qty === 0) {\n          this.deleteCartItem(existingItem.product_id);\n        }\n      } else {\n        this.cartItems.push({\n          product_id,\n          qty: 1\n        });\n      }\n    },\n    deleteCartItem(product_id) {\n      const isConfirm = window.confirm('Apakah Anda yakin ingin menghapus item?');\n      if (isConfirm) {\n        const index = this.cartItems.findIndex(item => item.product_id === product_id);\n        if (index !== -1) {\n          this.cartItems.splice(index, 1);\n        }\n      }\n    },\n    increaseQty(item) {\n      item.qty++;\n    },\n    decreaseQty(item) {\n      if (item.qty > 1) {\n        item.qty--;\n      } else {\n        this.deleteCartItem(item.product_id);\n      }\n    }\n  }\n});","map":{"version":3,"names":["defineStore","useCart","id","state","cartItems","actions","addToCart","product_id","existingItem","find","item","qty","deleteCartItem","push","isConfirm","window","confirm","index","findIndex","splice","increaseQty","decreaseQty"],"sources":["E:/Programming/PROJECT/sm-putra/smputra-frontend/src/store/cart.js"],"sourcesContent":["import { defineStore } from 'pinia';\r\n\r\nexport const useCart = defineStore({\r\n  id: 'cart',\r\n  state: () => ({ \r\n    cartItems: [], // key: product_id, qty\r\n  }),\r\n  actions: {\r\n    addToCart(product_id) {\r\n      const existingItem = this.cartItems.find(item => item.product_id === product_id);\r\n      if (existingItem) {\r\n        existingItem.qty++;\r\n        if (existingItem.qty === 0) {\r\n            this.deleteCartItem(existingItem.product_id);\r\n        }\r\n      } else {\r\n        this.cartItems.push({ product_id, qty: 1}); \r\n      }\r\n    },\r\n\r\n    deleteCartItem(product_id) {\r\n      const isConfirm =  window.confirm('Apakah Anda yakin ingin menghapus item?') \r\n      if (isConfirm) {\r\n        const index = this.cartItems.findIndex(item => item.product_id === product_id);\r\n      if (index !== -1) {\r\n        this.cartItems.splice(index, 1);\r\n      }\r\n      }\r\n    },\r\n    increaseQty(item) {\r\n        item.qty++;\r\n      },\r\n  \r\n    decreaseQty(item) {\r\n        if (item.qty > 1) {\r\n          item.qty--;\r\n        } else {\r\n          this.deleteCartItem(item.product_id);\r\n        }\r\n      },\r\n  },\r\n});\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAO,MAAMC,OAAO,GAAGD,WAAW,CAAC;EACjCE,EAAE,EAAE,MAAM;EACVC,KAAK,EAAEA,CAAA,MAAO;IACZC,SAAS,EAAE,EAAE,CAAE;EACjB,CAAC,CAAC;;EACFC,OAAO,EAAE;IACPC,SAASA,CAACC,UAAU,EAAE;MACpB,MAAMC,YAAY,GAAG,IAAI,CAACJ,SAAS,CAACK,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACH,UAAU,KAAKA,UAAU,CAAC;MAChF,IAAIC,YAAY,EAAE;QAChBA,YAAY,CAACG,GAAG,EAAE;QAClB,IAAIH,YAAY,CAACG,GAAG,KAAK,CAAC,EAAE;UACxB,IAAI,CAACC,cAAc,CAACJ,YAAY,CAACD,UAAU,CAAC;QAChD;MACF,CAAC,MAAM;QACL,IAAI,CAACH,SAAS,CAACS,IAAI,CAAC;UAAEN,UAAU;UAAEI,GAAG,EAAE;QAAC,CAAC,CAAC;MAC5C;IACF,CAAC;IAEDC,cAAcA,CAACL,UAAU,EAAE;MACzB,MAAMO,SAAS,GAAIC,MAAM,CAACC,OAAO,CAAC,yCAAyC,CAAC;MAC5E,IAAIF,SAAS,EAAE;QACb,MAAMG,KAAK,GAAG,IAAI,CAACb,SAAS,CAACc,SAAS,CAACR,IAAI,IAAIA,IAAI,CAACH,UAAU,KAAKA,UAAU,CAAC;QAChF,IAAIU,KAAK,KAAK,CAAC,CAAC,EAAE;UAChB,IAAI,CAACb,SAAS,CAACe,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;QACjC;MACA;IACF,CAAC;IACDG,WAAWA,CAACV,IAAI,EAAE;MACdA,IAAI,CAACC,GAAG,EAAE;IACZ,CAAC;IAEHU,WAAWA,CAACX,IAAI,EAAE;MACd,IAAIA,IAAI,CAACC,GAAG,GAAG,CAAC,EAAE;QAChBD,IAAI,CAACC,GAAG,EAAE;MACZ,CAAC,MAAM;QACL,IAAI,CAACC,cAAc,CAACF,IAAI,CAACH,UAAU,CAAC;MACtC;IACF;EACJ;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}