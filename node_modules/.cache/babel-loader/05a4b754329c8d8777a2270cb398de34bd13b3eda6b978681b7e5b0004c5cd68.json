{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport ProductList from './ProductList.vue';\nexport default {\n  name: 'DashboardView',\n  components: {\n    ProductList\n  },\n  data() {\n    return {\n      //state loggedIn with localStorage\n      loggedIn: localStorage.getItem('loggedIn'),\n      //state token\n      token: localStorage.getItem('token'),\n      //state user logged In\n      user: []\n    };\n  },\n  created() {\n    axios.get('http://localhost:8000/api/user', {\n      headers: {\n        'Authorization': 'Bearer ' + this.token\n      }\n    }).then(response => {\n      console.log(response);\n      this.user = response.data; // assign response to state user\n    });\n  },\n\n  methods: {\n    logout() {\n      axios.get('http://localhost:8000/api/logout').then(() => {\n        //remove localStorage\n        localStorage.removeItem(\"loggedIn\");\n\n        //redirect\n        return this.$router.push({\n          name: 'login'\n        });\n      });\n    }\n  },\n  //check user logged in or not\n  mounted() {\n    if (!this.loggedIn) {\n      return this.$router.push({\n        name: 'login'\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","ProductList","name","components","data","loggedIn","localStorage","getItem","token","user","created","get","headers","then","response","console","log","methods","logout","removeItem","$router","push","mounted"],"sources":["E:\\Programming\\PROJECT\\sm-putra\\smputra-frontend\\src\\views\\dashboard\\IndexView.vue"],"sourcesContent":["<template>\r\n    <div class=\"dashboard\" style=\"margin-top:80px\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-4\">\r\n                    <div class=\"card\">\r\n                        <div class=\"card-body\">\r\n                            MAIN MENU\r\n                            <hr>\r\n                            <ul class=\"list-group\">\r\n                                <router-link :to=\"{name: 'profile'}\" class=\"list-group-item text-dark text-decoration-none\">PROFILE</router-link>\r\n                                <li @click=\"logout\" class=\"list-group-item text-dark text-decoration-none\" style=\"cursor:pointer\">LOGOUT</li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-8\">\r\n                    <div class=\"card\">\r\n                        <div class=\"card-body\">\r\n                            DASHBOARD\r\n                            <hr>\r\n                            Selamat Datang <strong>{{ user.name }}</strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport ProductList from './ProductList.vue'\r\n\r\nexport default {\r\n    name: 'DashboardView',\r\n    components: {\r\n        ProductList\r\n    },\r\n    data() {\r\n        return {\r\n            //state loggedIn with localStorage\r\n            loggedIn: localStorage.getItem('loggedIn'),\r\n            //state token\r\n            token: localStorage.getItem('token'),\r\n            //state user logged In\r\n            user: []\r\n        }\r\n    },\r\n\r\n    created() {\r\n        axios.get('http://localhost:8000/api/user', {headers: {'Authorization': 'Bearer '+this.token}})\r\n        .then(response => {\r\n            console.log(response)\r\n            this.user = response.data // assign response to state user\r\n        })\r\n    },\r\n\r\n    methods: {\r\n        logout() {\r\n            axios.get('http://localhost:8000/api/logout')\r\n            .then(() => {\r\n                //remove localStorage\r\n                localStorage.removeItem(\"loggedIn\")    \r\n\r\n\r\n                //redirect\r\n                return this.$router.push({ name: 'login' })\r\n            })\r\n        }\r\n    },\r\n\r\n    //check user logged in or not\r\n    mounted() {\r\n        if(!this.loggedIn) {\r\n            return this.$router.push({ name: 'login' })\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":";AAgCA,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,WAAU,MAAO,mBAAkB;AAE1C,eAAe;EACXC,IAAI,EAAE,eAAe;EACrBC,UAAU,EAAE;IACRF;EACJ,CAAC;EACDG,IAAIA,CAAA,EAAG;IACH,OAAO;MACH;MACAC,QAAQ,EAAEC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MAC1C;MACAC,KAAK,EAAEF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MACpC;MACAE,IAAI,EAAE;IACV;EACJ,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACNV,KAAK,CAACW,GAAG,CAAC,gCAAgC,EAAE;MAACC,OAAO,EAAE;QAAC,eAAe,EAAE,SAAS,GAAC,IAAI,CAACJ;MAAK;IAAC,CAAC,EAC7FK,IAAI,CAACC,QAAO,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,QAAQ;MACpB,IAAI,CAACL,IAAG,GAAIK,QAAQ,CAACV,IAAG,EAAE;IAC9B,CAAC;EACL,CAAC;;EAEDa,OAAO,EAAE;IACLC,MAAMA,CAAA,EAAG;MACLlB,KAAK,CAACW,GAAG,CAAC,kCAAkC,EAC3CE,IAAI,CAAC,MAAM;QACR;QACAP,YAAY,CAACa,UAAU,CAAC,UAAU;;QAGlC;QACA,OAAO,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAAEnB,IAAI,EAAE;QAAQ,CAAC;MAC9C,CAAC;IACL;EACJ,CAAC;EAED;EACAoB,OAAOA,CAAA,EAAG;IACN,IAAG,CAAC,IAAI,CAACjB,QAAQ,EAAE;MACf,OAAO,IAAI,CAACe,OAAO,CAACC,IAAI,CAAC;QAAEnB,IAAI,EAAE;MAAQ,CAAC;IAC9C;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}