{"ast":null,"code":"import { onMounted, watch } from 'vue';\nimport { useProducts } from \"@/store/products\";\nimport { useCategory } from \"@/store/categories\";\nexport default {\n  __name: 'ShopView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const productStore = useProducts();\n    const categoryStore = useCategory();\n    function search() {\n      productStore.fetchDataProducts(productStore.currentPage, productStore.query, categoryStore.selectedCategory);\n    }\n    function search2() {\n      productStore.query = '';\n      productStore.fetchDataProducts(productStore.currentPage, productStore.query, categoryStore.selectedCategory);\n    }\n    watch(() => categoryStore.selectedCategory, () => {\n      search2(); // Mencari produk setiap kali kategori berubah\n    });\n\n    onMounted(() => {\n      categoryStore.fetchDataCategory();\n      search();\n    });\n    const __returned__ = {\n      productStore,\n      categoryStore,\n      search,\n      search2,\n      onMounted,\n      watch,\n      get useProducts() {\n        return useProducts;\n      },\n      get useCategory() {\n        return useCategory;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","watch","useProducts","useCategory","productStore","categoryStore","search","fetchDataProducts","currentPage","query","selectedCategory","search2","fetchDataCategory"],"sources":["E:/Programming/PROJECT/sm-putra/smputra-frontend/src/views/shop/ShopView.vue"],"sourcesContent":["<template lang=\"\">\r\n   <br>\r\n   <br>\r\n   <br>\r\n<main class=\"mt-5\">\r\n\r\n         <!-- section -->\r\n         <div class=\"mt-8 mb-lg-14 mb-8\">\r\n            <!-- container -->\r\n            <div class=\"container\">\r\n               <!-- row -->\r\n               <div class=\"row gx-10\">\r\n                  <!-- col -->\r\n                  <aside class=\"col-lg-3 col-md-4 mb-6 mb-md-0\">\r\n                     <div class=\"offcanvas offcanvas-start offcanvas-collapse w-md-50\" tabindex=\"-1\" id=\"offcanvasCategory\" aria-labelledby=\"offcanvasCategoryLabel\">\r\n                        <div class=\"offcanvas-header d-lg-none\">\r\n                           <h5 class=\"offcanvas-title\" id=\"offcanvasCategoryLabel\">Filter</h5>\r\n                           <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n                        </div>\r\n                        <div class=\"offcanvas-body ps-lg-2 pt-lg-0\">\r\n                           <div class=\"mb-8\">\r\n                              <!-- title -->\r\n                              <h5 class=\"mb-3\">Kategori</h5>\r\n                              <!-- nav -->\r\n                              <ul class=\"nav nav-category\" id=\"categoryCollapseMenu\">\r\n                                 <li class=\"nav-item border-bottom w-100\">\r\n                                    <a href=\"#\" class=\"nav-link collapsed\" @click=\"categoryStore.selectedCategory=null\">\r\n                                       Semua Kategori\r\n                                    </a>\r\n                                 </li>\r\n                                 <li v-for=\"(category, index) in categoryStore.categories\" :key=\"index\"  class=\"nav-item border-bottom w-100\">\r\n                                    <a href=\"#\" class=\"nav-link collapsed\" @click=\"categoryStore.setSelectedCategory(category)\" data-bs-dismiss=\"offcanvas\">\r\n                                       {{ category.name }}\r\n                                    </a>          \r\n                                 </li>\r\n                              </ul>\r\n                           </div>\r\n                        </div>\r\n                     </div>\r\n                  </aside>\r\n\r\n\r\n                  <section class=\"col-lg-9 col-md-12\">\r\n                     <!-- card -->\r\n                     <div class=\"card mb-4 bg-light border-0\">\r\n                        <!-- card body -->\r\n                        <div class=\"card-body p-9\">\r\n                           <h2 v-if=\"categoryStore.selectedCategory == null\" class=\"mb-0 fs-1\">Semua Kategori</h2>\r\n                           <h2 v-if=\"categoryStore.selectedCategory\" class=\"mb-0 fs-1\">Kategori: {{ categoryStore.selectedCategory.name }}</h2>\r\n                        </div>\r\n                     </div>\r\n                     <!-- list icon -->\r\n                     <div class=\"d-lg-flex justify-content-between align-items-center\">\r\n                        <div class=\"mb-3 mb-lg-0\">\r\n                           <p class=\"mb-0\">\r\n                              <span v-if=\"productStore.query!=''\" class=\"text-dark\">Cari : {{ productStore.query }}. </span><span class=\"text-dark\"> {{ productStore.products.length }}</span>\r\n                              Produk ditemukan\r\n                           </p>\r\n                        </div>\r\n\r\n                        <!-- icon -->\r\n                        <div class=\"d-md-flex justify-content-between align-items-center\">\r\n                           <div class=\"d-flex align-items-center justify-content-between\">\r\n                              <div class=\"ms-2 d-lg-none\">\r\n                                 <a class=\"btn btn-outline-gray-400 text-muted\" data-bs-toggle=\"offcanvas\" href=\"#offcanvasCategory\" role=\"button\" aria-controls=\"offcanvasCategory\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-filter me-2\">\r\n                                       <polygon points=\"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\"></polygon>\r\n                                    </svg>\r\n                                    Kategori\r\n                                 </a>\r\n                              </div>\r\n                           </div>\r\n                        </div>\r\n                     </div>\r\n\r\n                    <!-- Product List -->\r\n                     <!-- row -->\r\n                     \r\n                     <div v-if=\"productStore.products === 0\" class=\"row g-4 row-cols-xl-4 row-cols-lg-3 row-cols-2 row-cols-md-2 mt-2\">\r\n                        <!-- Jika tidak ada produk, tampilkan placeholder -->\r\n                        <div v-for=\"(item, index) in 10\" :key=\"index\" class=\"col\">\r\n                        <product-placeholder></product-placeholder>\r\n                        </div>\r\n                     </div>\r\n\r\n                     <div v-else class=\"row g-4 row-cols-xl-4 row-cols-lg-3 row-cols-2 row-cols-md-2 mt-2\">\r\n                        <!-- Jika ada produk, tampilkan produk sesuai data yang dimiliki -->\r\n                        <div v-for=\"product in productStore.products\" :key=\"product.id\" class=\"col\">\r\n                        <product-card :product=\"product\"></product-card>\r\n                     </div>\r\n                     </div>\r\n\r\n\r\n                     <div class=\"row mt-8\">\r\n                        <div class=\"col\">\r\n\r\n\r\n                           <!-- Pagination -->\r\n    <nav aria-label=\"Page navigation example\">\r\n        <ul class=\"pagination\">\r\n          <li class=\"page-item\" :class=\"{ 'disabled': productStore.currentPage === 1 }\">\r\n            <a class=\"page-link mx-1\" @click=\"productStore.fetchDataProducts(productStore.currentPage - 1)\" :disabled=\"productStore.currentPage === 1\" aria-label=\"Previous\">\r\n              <span aria-hidden=\"true\">&laquo;</span>\r\n            </a>\r\n          </li>\r\n          <li class=\"page-item\" v-for=\"page in productStore.lastPage\" :key=\"page\" :class=\"{ 'active': productStore.currentPage === page }\">\r\n            <a class=\"page-link mx-1\" @click=\"productStore.fetchDataProducts(page)\">{{ page }}</a>\r\n          </li>\r\n          <li class=\"page-item\" :class=\"{ 'disabled': productStore.currentPage === productStore.lastPage }\">\r\n            <a class=\"page-link mx-1\" @click=\"productStore.fetchDataProducts(productStore.currentPage + 1)\" :disabled=\"productStore.currentPage === productStore.lastPage\" aria-label=\"Next\">\r\n              <span aria-hidden=\"true\">&raquo;</span>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n               \r\n                        </div>\r\n                     </div>\r\n                  </section>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </main>\r\n\r\n\r\n</template>\r\n<script setup>\r\nimport { onMounted, watch } from 'vue';\r\nimport { useProducts } from \"@/store/products\";\r\nimport { useCategory } from \"@/store/categories\";\r\n\r\n\r\nconst productStore = useProducts();\r\nconst categoryStore = useCategory();\r\n\r\nfunction search() {\r\n  productStore.fetchDataProducts(productStore.currentPage, productStore.query, categoryStore.selectedCategory);\r\n}\r\nfunction search2() {\r\n   productStore.query = ''\r\n  productStore.fetchDataProducts(productStore.currentPage, productStore.query, categoryStore.selectedCategory);\r\n}\r\n\r\nwatch(() => categoryStore.selectedCategory, () => {\r\n  search2(); // Mencari produk setiap kali kategori berubah\r\n});\r\n\r\n\r\nonMounted(() => {\r\n   categoryStore.fetchDataCategory()\r\n  search();\r\n});\r\n</script>\r\n<style lang=\"\">\r\n    \r\n</style>"],"mappings":"AA+HA,SAASA,SAAS,EAAEC,KAAK,QAAQ,KAAK;AACtC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,oBAAoB;;;;;;;IAGhD,MAAMC,YAAY,GAAGF,WAAW,CAAC,CAAC;IAClC,MAAMG,aAAa,GAAGF,WAAW,CAAC,CAAC;IAEnC,SAASG,MAAMA,CAAA,EAAG;MAChBF,YAAY,CAACG,iBAAiB,CAACH,YAAY,CAACI,WAAW,EAAEJ,YAAY,CAACK,KAAK,EAAEJ,aAAa,CAACK,gBAAgB,CAAC;IAC9G;IACA,SAASC,OAAOA,CAAA,EAAG;MAChBP,YAAY,CAACK,KAAK,GAAG,EAAE;MACxBL,YAAY,CAACG,iBAAiB,CAACH,YAAY,CAACI,WAAW,EAAEJ,YAAY,CAACK,KAAK,EAAEJ,aAAa,CAACK,gBAAgB,CAAC;IAC9G;IAEAT,KAAK,CAAC,MAAMI,aAAa,CAACK,gBAAgB,EAAE,MAAM;MAChDC,OAAO,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC;;IAGFX,SAAS,CAAC,MAAM;MACbK,aAAa,CAACO,iBAAiB,CAAC,CAAC;MAClCN,MAAM,CAAC,CAAC;IACV,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}