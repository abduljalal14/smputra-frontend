{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineStore } from 'pinia';\nexport const useCart = defineStore({\n  id: 'cart',\n  state: () => ({\n    cartItems: [] // key: productId, qty\n  }),\n\n  actions: {\n    addToCart(productId) {\n      const existingItem = this.cartItems.find(item => item.productId === productId);\n      if (existingItem) {\n        existingItem.qty++;\n        if (existingItem.qty === 0) {\n          this.deleteCartItem(existingItem.productId);\n        }\n      } else {\n        this.cartItems.push({\n          productId,\n          qty: 1\n        });\n      }\n    },\n    deleteCartItem(productId) {\n      const isConfirm = window.confirm('Apakah Anda yakin ingin menghapus item?');\n      if (isConfirm) {\n        const index = this.cartItems.findIndex(item => item.productId === productId);\n        if (index !== -1) {\n          this.cartItems.splice(index, 1); // Menghapus item dari cartItems berdasarkan indeks\n        }\n\n        console.log(\"Deleting\", productId, \" from \", this.cartItems);\n      }\n    },\n    increaseQty(item) {\n      item.qty++;\n    },\n    decreaseQty(item) {\n      if (item.qty > 1) {\n        item.qty--;\n      } else {\n        // Jika qty adalah 1, hapus cartItem dari keranjang\n        this.deleteCartItem(item.productId);\n      }\n    }\n    // updateQty(item) {\n    //     if (item.qty < 1) {\n    //         item.total = item.qty * item.product.price;\n    //       } else {\n    //         // Jika qty adalah 1, hapus cartItem dari keranjang\n    //         this.deleteCartItem(item.product);\n    //       }\n    // }\n  }\n});","map":{"version":3,"names":["defineStore","useCart","id","state","cartItems","actions","addToCart","productId","existingItem","find","item","qty","deleteCartItem","push","isConfirm","window","confirm","index","findIndex","splice","console","log","increaseQty","decreaseQty"],"sources":["F:/Programming/_PROJECT/sm-putra/smputra-frontend/src/store/cart.js"],"sourcesContent":["import { defineStore } from 'pinia';\r\n\r\nexport const useCart = defineStore({\r\n  id: 'cart',\r\n  state: () => ({ \r\n    cartItems: [], // key: productId, qty\r\n  }),\r\n  actions: {\r\n    addToCart(productId) {\r\n      const existingItem = this.cartItems.find(item => item.productId === productId);\r\n\r\n      if (existingItem) {\r\n        existingItem.qty++;\r\n        if (existingItem.qty === 0) {\r\n            this.deleteCartItem(existingItem.productId);\r\n        }\r\n      } else {\r\n        this.cartItems.push({ productId, qty: 1}); \r\n      }\r\n    },\r\n\r\n    deleteCartItem(productId) {\r\n      const isConfirm =  window.confirm('Apakah Anda yakin ingin menghapus item?') \r\n      if (isConfirm) {\r\n        const index = this.cartItems.findIndex(item => item.productId === productId);\r\n\r\n      if (index !== -1) {\r\n        this.cartItems.splice(index, 1); // Menghapus item dari cartItems berdasarkan indeks\r\n      }\r\n\r\n      console.log(\"Deleting\", productId, \" from \", this.cartItems);\r\n      }\r\n    },\r\n    increaseQty(item) {\r\n        item.qty++;\r\n      },\r\n  \r\n    decreaseQty(item) {\r\n        if (item.qty > 1) {\r\n          item.qty--;\r\n        } else {\r\n          // Jika qty adalah 1, hapus cartItem dari keranjang\r\n          this.deleteCartItem(item.productId);\r\n        }\r\n      },\r\n    // updateQty(item) {\r\n    //     if (item.qty < 1) {\r\n    //         item.total = item.qty * item.product.price;\r\n    //       } else {\r\n    //         // Jika qty adalah 1, hapus cartItem dari keranjang\r\n    //         this.deleteCartItem(item.product);\r\n    //       }\r\n    // }\r\n  },\r\n});\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAO,MAAMC,OAAO,GAAGD,WAAW,CAAC;EACjCE,EAAE,EAAE,MAAM;EACVC,KAAK,EAAEA,CAAA,MAAO;IACZC,SAAS,EAAE,EAAE,CAAE;EACjB,CAAC,CAAC;;EACFC,OAAO,EAAE;IACPC,SAASA,CAACC,SAAS,EAAE;MACnB,MAAMC,YAAY,GAAG,IAAI,CAACJ,SAAS,CAACK,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACH,SAAS,KAAKA,SAAS,CAAC;MAE9E,IAAIC,YAAY,EAAE;QAChBA,YAAY,CAACG,GAAG,EAAE;QAClB,IAAIH,YAAY,CAACG,GAAG,KAAK,CAAC,EAAE;UACxB,IAAI,CAACC,cAAc,CAACJ,YAAY,CAACD,SAAS,CAAC;QAC/C;MACF,CAAC,MAAM;QACL,IAAI,CAACH,SAAS,CAACS,IAAI,CAAC;UAAEN,SAAS;UAAEI,GAAG,EAAE;QAAC,CAAC,CAAC;MAC3C;IACF,CAAC;IAEDC,cAAcA,CAACL,SAAS,EAAE;MACxB,MAAMO,SAAS,GAAIC,MAAM,CAACC,OAAO,CAAC,yCAAyC,CAAC;MAC5E,IAAIF,SAAS,EAAE;QACb,MAAMG,KAAK,GAAG,IAAI,CAACb,SAAS,CAACc,SAAS,CAACR,IAAI,IAAIA,IAAI,CAACH,SAAS,KAAKA,SAAS,CAAC;QAE9E,IAAIU,KAAK,KAAK,CAAC,CAAC,EAAE;UAChB,IAAI,CAACb,SAAS,CAACe,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;QACnC;;QAEAG,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEd,SAAS,EAAE,QAAQ,EAAE,IAAI,CAACH,SAAS,CAAC;MAC5D;IACF,CAAC;IACDkB,WAAWA,CAACZ,IAAI,EAAE;MACdA,IAAI,CAACC,GAAG,EAAE;IACZ,CAAC;IAEHY,WAAWA,CAACb,IAAI,EAAE;MACd,IAAIA,IAAI,CAACC,GAAG,GAAG,CAAC,EAAE;QAChBD,IAAI,CAACC,GAAG,EAAE;MACZ,CAAC,MAAM;QACL;QACA,IAAI,CAACC,cAAc,CAACF,IAAI,CAACH,SAAS,CAAC;MACrC;IACF;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}