{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineStore } from 'pinia';\nexport const useCart = defineStore({\n  id: 'cart',\n  state: () => ({\n    cartItems: [] // key: product_id, qty\n  }),\n\n  getters: {\n    calculateTotalSubtotal() {\n      return this.cartItems.reduce((total, item) => total + item.subtotal, 0);\n    }\n  },\n  actions: {\n    addToCart(product) {\n      const existingItem = this.cartItems.find(item => item.product === product);\n      if (existingItem) {\n        existingItem.qty++;\n        existingItem.subtotal += product.price;\n        if (existingItem.qty === 0) {\n          this.deleteCartItem(existingItem.product);\n        }\n      } else {\n        this.cartItems.push({\n          product,\n          qty: 1,\n          subtotal: product.price\n        });\n      }\n      console.log(\"isi cart: \", this.cartItems);\n    },\n    deleteCartItem(product) {\n      const isConfirmed = window.confirm('Apakah Anda yakin ingin menghapus item?');\n      if (isConfirmed) {\n        const index = this.cartItems.findIndex(item => item.product === product);\n        if (index !== -1) {\n          this.cartItems.splice(index, 1);\n        }\n      }\n    },\n    increaseQty(item) {\n      item.qty++;\n      item.subtotal += item.product.price;\n    },\n    decreaseQty(item) {\n      if (item.qty > 1) {\n        item.qty--;\n        item.subtotal -= item.product.price;\n      } else {\n        this.deleteCartItem(item.product);\n      }\n    },\n    reset() {\n      this.cartItems = [];\n    }\n  }\n});","map":{"version":3,"names":["defineStore","useCart","id","state","cartItems","getters","calculateTotalSubtotal","reduce","total","item","subtotal","actions","addToCart","product","existingItem","find","qty","price","deleteCartItem","push","console","log","isConfirmed","window","confirm","index","findIndex","splice","increaseQty","decreaseQty","reset"],"sources":["E:/Programming/PROJECT/sm-putra/smputra-frontend/src/store/cart.js"],"sourcesContent":["import { defineStore } from 'pinia';\r\n\r\nexport const useCart = defineStore({\r\n  id: 'cart',\r\n  state: () => ({ \r\n    cartItems: [], // key: product_id, qty\r\n  }),\r\n  getters: {\r\n    calculateTotalSubtotal() {\r\n      return this.cartItems.reduce((total, item) => total + item.subtotal, 0);\r\n    }\r\n  },\r\n  actions: {\r\n    addToCart(product) {\r\n      const existingItem = this.cartItems.find(item => item.product === product);\r\n      if (existingItem) {\r\n        existingItem.qty++;\r\n        existingItem.subtotal += product.price;\r\n        if (existingItem.qty === 0) {\r\n            this.deleteCartItem(existingItem.product);\r\n        }\r\n      } else {\r\n        this.cartItems.push({ product, qty: 1, subtotal: product.price }); \r\n      }\r\n      console.log(\"isi cart: \",this.cartItems )\r\n      \r\n    },\r\n\r\n    deleteCartItem(product) {\r\n      const isConfirmed =  window.confirm('Apakah Anda yakin ingin menghapus item?') \r\n      if (isConfirmed) {\r\n        const index = this.cartItems.findIndex(item => item.product === product);\r\n      if (index !== -1) {\r\n        this.cartItems.splice(index, 1);\r\n      }\r\n      }\r\n    },\r\n    increaseQty(item) {\r\n        item.qty++;\r\n        item.subtotal += item.product.price;\r\n      },\r\n  \r\n    decreaseQty(item) {\r\n        if (item.qty > 1) {\r\n          item.qty--;\r\n          item.subtotal -= item.product.price;\r\n        } else {\r\n          this.deleteCartItem(item.product);\r\n        }\r\n      },\r\n    reset() {\r\n      this.cartItems = []\r\n    }\r\n  },\r\n});\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAO,MAAMC,OAAO,GAAGD,WAAW,CAAC;EACjCE,EAAE,EAAE,MAAM;EACVC,KAAK,EAAEA,CAAA,MAAO;IACZC,SAAS,EAAE,EAAE,CAAE;EACjB,CAAC,CAAC;;EACFC,OAAO,EAAE;IACPC,sBAAsBA,CAAA,EAAG;MACvB,OAAO,IAAI,CAACF,SAAS,CAACG,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAKD,KAAK,GAAGC,IAAI,CAACC,QAAQ,EAAE,CAAC,CAAC;IACzE;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,SAASA,CAACC,OAAO,EAAE;MACjB,MAAMC,YAAY,GAAG,IAAI,CAACV,SAAS,CAACW,IAAI,CAACN,IAAI,IAAIA,IAAI,CAACI,OAAO,KAAKA,OAAO,CAAC;MAC1E,IAAIC,YAAY,EAAE;QAChBA,YAAY,CAACE,GAAG,EAAE;QAClBF,YAAY,CAACJ,QAAQ,IAAIG,OAAO,CAACI,KAAK;QACtC,IAAIH,YAAY,CAACE,GAAG,KAAK,CAAC,EAAE;UACxB,IAAI,CAACE,cAAc,CAACJ,YAAY,CAACD,OAAO,CAAC;QAC7C;MACF,CAAC,MAAM;QACL,IAAI,CAACT,SAAS,CAACe,IAAI,CAAC;UAAEN,OAAO;UAAEG,GAAG,EAAE,CAAC;UAAEN,QAAQ,EAAEG,OAAO,CAACI;QAAM,CAAC,CAAC;MACnE;MACAG,OAAO,CAACC,GAAG,CAAC,YAAY,EAAC,IAAI,CAACjB,SAAU,CAAC;IAE3C,CAAC;IAEDc,cAAcA,CAACL,OAAO,EAAE;MACtB,MAAMS,WAAW,GAAIC,MAAM,CAACC,OAAO,CAAC,yCAAyC,CAAC;MAC9E,IAAIF,WAAW,EAAE;QACf,MAAMG,KAAK,GAAG,IAAI,CAACrB,SAAS,CAACsB,SAAS,CAACjB,IAAI,IAAIA,IAAI,CAACI,OAAO,KAAKA,OAAO,CAAC;QAC1E,IAAIY,KAAK,KAAK,CAAC,CAAC,EAAE;UAChB,IAAI,CAACrB,SAAS,CAACuB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;QACjC;MACA;IACF,CAAC;IACDG,WAAWA,CAACnB,IAAI,EAAE;MACdA,IAAI,CAACO,GAAG,EAAE;MACVP,IAAI,CAACC,QAAQ,IAAID,IAAI,CAACI,OAAO,CAACI,KAAK;IACrC,CAAC;IAEHY,WAAWA,CAACpB,IAAI,EAAE;MACd,IAAIA,IAAI,CAACO,GAAG,GAAG,CAAC,EAAE;QAChBP,IAAI,CAACO,GAAG,EAAE;QACVP,IAAI,CAACC,QAAQ,IAAID,IAAI,CAACI,OAAO,CAACI,KAAK;MACrC,CAAC,MAAM;QACL,IAAI,CAACC,cAAc,CAACT,IAAI,CAACI,OAAO,CAAC;MACnC;IACF,CAAC;IACHiB,KAAKA,CAAA,EAAG;MACN,IAAI,CAAC1B,SAAS,GAAG,EAAE;IACrB;EACF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}