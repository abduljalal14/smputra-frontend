{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport api from '../api';\nimport { useCategory } from \"@/store/index\";\nexport default {\n  __name: 'NavbarView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const itemCategory = ref();\n    const categoryStore = useCategory();\n    const categories = ref([]);\n    const loading = ref(false);\n    const error = ref(null);\n    function chageCategory(categoryName) {\n      itemCategory.value = categoryName;\n    }\n    function changeName() {\n      categoryStore.setCategories(itemCategory.value);\n      itemCategory.value = '';\n    }\n\n    // method to fetch categories\n    const fetchCategories = async () => {\n      loading.value = true;\n      try {\n        const response = await api.get('/api/categories');\n        categories.value = response.data.data.data;\n        error.value = null;\n        // Pastikan pemanggilan setCategories benar\n        changeName();\n      } catch (err) {\n        error.value = 'Error fetching category data.';\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // lifecycle hook\n    onMounted(() => {\n      fetchCategories();\n    });\n    const __returned__ = {\n      itemCategory,\n      categoryStore,\n      categories,\n      loading,\n      error,\n      chageCategory,\n      changeName,\n      fetchCategories,\n      ref,\n      onMounted,\n      get api() {\n        return api;\n      },\n      get useCategory() {\n        return useCategory;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","api","useCategory","itemCategory","categoryStore","categories","loading","error","chageCategory","categoryName","value","changeName","setCategories","fetchCategories","response","get","data","err"],"sources":["E:/Programming/PROJECT/sm-putra/smputra-frontend/src/components/NavbarView.vue"],"sourcesContent":["<template lang=\"\">\r\n    <!-- Navigation-->\r\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n            <div class=\"container px-4 px-lg-5\">\r\n                <router-link :to=\"{name: 'home'}\" class=\"navbar-brand\">Sarimulya Putra</router-link>\r\n                <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"><span class=\"navbar-toggler-icon\"></span></button>\r\n                <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                    <ul class=\"navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4\">\r\n                        <li class=\"nav-item\"><router-link :to=\"{name: 'home'}\" class=\"nav-link active\">Home</router-link></li>\r\n                        <li class=\"nav-item\"><router-link :to=\"{name: 'about'}\" class=\"nav-link\">About</router-link></li>\r\n                        <li class=\"nav-item dropdown\">\r\n                            <a class=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" href=\"#\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">Kategori</a>\r\n                            <ul class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                                <li><a class=\"dropdown-item\" href=\"#!\">All Menu</a></li>\r\n                                <li><hr class=\"dropdown-divider\" /></li>\r\n                                <li  v-for=\"(category) in categories\" :key=\"category.id\"><a class=\"dropdown-item\" href=\"#!\" @click=\"changeName(category.name)\">{{ category.name }}</a></li>\r\n                            </ul>\r\n                        </li>\r\n                    </ul>\r\n                    <form class=\"d-flex\">\r\n                        <button class=\"btn btn-outline-dark\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasWithBothOptions\" aria-controls=\"offcanvasWithBothOptions\">\r\n                            <i class=\"bi-cart-fill me-1\"></i>\r\n                            Cart\r\n                            <span class=\"badge bg-dark text-white ms-1 rounded-pill\">0</span>\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n\r\n\r\n<div class=\"offcanvas offcanvas-end\" data-bs-scroll=\"true\" tabindex=\"-1\" id=\"offcanvasWithBothOptions\" >\r\n  <div class=\"offcanvas-header\">\r\n    <h5 class=\"offcanvas-title\">Keranjang</h5>\r\n    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n  </div>\r\n  <div class=\"offcanvas-body\">\r\n    <p>Try scrolling the rest of the page to see this option in action.</p>\r\n  </div>\r\n</div>\r\n\r\n</template>\r\n<!-- ... -->\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport api from '../api';\r\nimport { useCategory } from \"@/store/index\";\r\n\r\nconst itemCategory = ref();\r\nconst categoryStore = useCategory();\r\nconst categories = ref([]);\r\nconst loading = ref(false);\r\nconst error = ref(null);\r\n\r\nfunction chageCategory(categoryName){\r\n  itemCategory.value = categoryName\r\n}\r\nfunction changeName() {\r\n      categoryStore.setCategories(itemCategory.value);\r\n      itemCategory.value = ''\r\n    }\r\n\r\n// method to fetch categories\r\nconst fetchCategories = async () => {\r\n  loading.value = true;\r\n  try {\r\n    const response = await api.get('/api/categories');\r\n    categories.value = response.data.data.data;\r\n    error.value = null;\r\n    // Pastikan pemanggilan setCategories benar\r\n    changeName();\r\n  } catch (err) {\r\n    error.value = 'Error fetching category data.';\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\n// lifecycle hook\r\nonMounted(() => {\r\n  fetchCategories();\r\n});\r\n</script>\r\n<!-- ... -->\r\n\r\n\r\n<style></style>"],"mappings":"AA4CA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,GAAG,MAAM,QAAQ;AACxB,SAASC,WAAW,QAAQ,eAAe;;;;;;;IAE3C,MAAMC,YAAY,GAAGJ,GAAG,CAAC,CAAC;IAC1B,MAAMK,aAAa,GAAGF,WAAW,CAAC,CAAC;IACnC,MAAMG,UAAU,GAAGN,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMO,OAAO,GAAGP,GAAG,CAAC,KAAK,CAAC;IAC1B,MAAMQ,KAAK,GAAGR,GAAG,CAAC,IAAI,CAAC;IAEvB,SAASS,aAAaA,CAACC,YAAY,EAAC;MAClCN,YAAY,CAACO,KAAK,GAAGD,YAAY;IACnC;IACA,SAASE,UAAUA,CAAA,EAAG;MAChBP,aAAa,CAACQ,aAAa,CAACT,YAAY,CAACO,KAAK,CAAC;MAC/CP,YAAY,CAACO,KAAK,GAAG,EAAE;IACzB;;IAEJ;IACA,MAAMG,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClCP,OAAO,CAACI,KAAK,GAAG,IAAI;MACpB,IAAI;QACF,MAAMI,QAAQ,GAAG,MAAMb,GAAG,CAACc,GAAG,CAAC,iBAAiB,CAAC;QACjDV,UAAU,CAACK,KAAK,GAAGI,QAAQ,CAACE,IAAI,CAACA,IAAI,CAACA,IAAI;QAC1CT,KAAK,CAACG,KAAK,GAAG,IAAI;QAClB;QACAC,UAAU,CAAC,CAAC;MACd,CAAC,CAAC,OAAOM,GAAG,EAAE;QACZV,KAAK,CAACG,KAAK,GAAG,+BAA+B;MAC/C,CAAC,SAAS;QACRJ,OAAO,CAACI,KAAK,GAAG,KAAK;MACvB;IACF,CAAC;;IAED;IACAV,SAAS,CAAC,MAAM;MACda,eAAe,CAAC,CAAC;IACnB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}